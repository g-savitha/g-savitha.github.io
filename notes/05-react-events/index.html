<!doctype html><html lang=en><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://www.gsavitha.in/css/base.css media=all><link rel=stylesheet href=https://www.gsavitha.in/css/syntax.css media=all><link href="https://fonts.googleapis.com/css2?family=Oxygen:wght@300;400;700&display=swap" rel=stylesheet><script async src=https://kit.fontawesome.com/66c0687ece.js crossorigin=anonymous></script><meta name=description content="React Events Review React Events You can attach event handlers to HTML elements in React via special reserved attributes. (You can do this in vanilla JS too, though the syntax is a bit different.)
Event Attributes Any event you can listen for in JS, you can listen for in React.
Examples:
 Mouse events: onClick, onMouseOver, etc Form events: onSubmit, etc Keyboard events: onKeyDown, onKeyUp, onKeyPress Full list  Example: WiseSquare."><meta name=title content="React Events | Savitha Gollamudi"><meta name=keywords content="tech,programming,javascript,react,rust,nodejs,node,mongodb,postgresql"><meta name=robots content="index, follow"><meta charset=utf-8><meta name=language content="English"><meta name=revisit-after content="2 days"><meta name=author content="Abdus <mail@abdus.xyz>"><meta property="og:type" content="website"><meta property="og:url" content="https://www.gsavitha.in/notes/05-react-events/"><meta property="og:title" content="React Events | Savitha Gollamudi"><meta property="og:description" content="React Events Review React Events You can attach event handlers to HTML elements in React via special reserved attributes. (You can do this in vanilla JS too, though the syntax is a bit different.)
Event Attributes Any event you can listen for in JS, you can listen for in React.
Examples:
 Mouse events: onClick, onMouseOver, etc Form events: onSubmit, etc Keyboard events: onKeyDown, onKeyUp, onKeyPress Full list  Example: WiseSquare."><meta property="og:image" content="https://www.gsavitha.in/images/default-meta-img.png"><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://www.gsavitha.in/notes/05-react-events/"><meta property="twitter:title" content="React Events | Savitha Gollamudi"><meta property="twitter:description" content="React Events Review React Events You can attach event handlers to HTML elements in React via special reserved attributes. (You can do this in vanilla JS too, though the syntax is a bit different.)
Event Attributes Any event you can listen for in JS, you can listen for in React.
Examples:
 Mouse events: onClick, onMouseOver, etc Form events: onSubmit, etc Keyboard events: onKeyDown, onKeyUp, onKeyPress Full list  Example: WiseSquare."><meta property="twitter:image" content="https://www.gsavitha.in/images/default-meta-img.png"><title>React Events | Savitha Gollamudi</title><meta name=google-site-verification content="SaBE4itR48HOEifszgie57M1Y1O9Ayk_rV5cBwah9LY"><body><small class=top-nav><a href=/>~/</a>
<a href=/work/>~/work</a>
<a href=/me/>~/about</a>
<a href=/categories/>~/categories</a>
<a href=/notes/>~/notes</a></small>
<a href=https://www.gsavitha.in/ style=text-align:center;display:block;margin-top:3rem><div class=logo><span>#"</span><span>Savitha Gollamudi</span><span>"</span></div></a><div id=content><div style="text-align:center;margin:3rem 0"><h2>React Events</h2><small>25 August, 2020&nbsp;&nbsp;&#183;&nbsp;&nbsp;</small>
<small><a style=text-decoration:none href=/categories/react>React</a></small></div><div style=margin-bottom:3rem><a style=display:inline-block;color:gray;text-decoration:none;font-size:.9em;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:100% href=https://www.udemy.com/course/modern-react-bootcamp/><i style=font-size:.75em;color:#d3d3d3 class="fas fa-link"></i>&nbsp; https://www.udemy.com/course/modern-react-bootcamp/</a></div><div class=section-content style=color:#252525><h2 id=react-events-review>React Events Review</h2><h3 id=react-events>React Events</h3><p>You can attach event handlers to HTML elements in React via special reserved attributes. (You can do this in vanilla JS too, though the syntax is a bit different.)</p><h3 id=event-attributes>Event Attributes</h3><p>Any event you can listen for in JS, you can listen for in React.</p><p><em>Examples:</em></p><ul><li>Mouse events: onClick, onMouseOver, etc</li><li>Form events: onSubmit, etc</li><li>Keyboard events: onKeyDown, onKeyUp, onKeyPress</li><li><a href=https://reactjs.org/docs/events.html#supported-events>Full list</a></li></ul><h4 id=example>Example:</h4><p><em>WiseSquare.js</em>:</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=kr>import</span> <span class=nx>React</span><span class=p>,</span> <span class=p>{</span> <span class=nx>Component</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;react&#34;</span><span class=p>;</span>
<span class=kr>import</span> <span class=s2>&#34;./WiseSquare.css&#34;</span><span class=p>;</span>

<span class=kr>class</span> <span class=nx>WiseSquare</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
  <span class=nx>dispenseWisdom</span><span class=p>()</span> <span class=p>{</span>
    <span class=kd>let</span> <span class=nx>messages</span> <span class=o>=</span> <span class=p>[</span>
      <span class=cm>/* wise messages go here */</span>
    <span class=p>];</span>
    <span class=kd>let</span> <span class=nx>rIndex</span> <span class=o>=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>floor</span><span class=p>(</span><span class=nb>Math</span><span class=p>.</span><span class=nx>random</span><span class=p>()</span> <span class=o>*</span> <span class=nx>messages</span><span class=p>.</span><span class=nx>length</span><span class=p>);</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>messages</span><span class=p>[</span><span class=nx>rIndex</span><span class=p>]);</span>
  <span class=p>}</span>

  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
    <span class=k>return</span> <span class=p>(</span>
      <span class=o>&lt;</span><span class=nx>div</span> <span class=nx>className</span><span class=o>=</span><span class=s2>&#34;WiseSquare&#34;</span> <span class=nx>onMouseEnter</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>dispenseWisdom</span><span class=p>}</span><span class=o>&gt;</span>
        <span class=err>üòÉ</span>
      <span class=o>&lt;</span><span class=err>/div&gt;</span>
    <span class=p>);</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=kr>export</span> <span class=k>default</span> <span class=nx>WiseSquare</span><span class=p>;</span>
</code></pre></div><h3 id=method-binding>Method Binding</h3><h4 id=the-keyword-this>The keyword <code>this</code>:</h4><p>When your event handlers reference the keyword <em><code>this</code></em>, watch out! You will lose the <em><code>this</code></em> context <strong>when you pass a function as a handler</strong>. Let‚Äôs see what happens when we try to <em>move our quotes into <strong>defaultProps</strong>.</em></p><h4 id=example-revisited>Example Revisited</h4><p><em>WiseSquareWithProps.js</em></p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=kr>class</span> <span class=nx>WiseSquareWithProps</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
  <span class=kr>static</span> <span class=nx>defaultProps</span> <span class=o>=</span> <span class=p>{</span>
    <span class=nx>messages</span><span class=o>:</span> <span class=p>[</span>
      <span class=cm>/* wise messages go here */</span>
    <span class=p>],</span>
  <span class=p>};</span>

  <span class=nx>dispenseWisdom</span><span class=p>()</span> <span class=p>{</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;THIS IS:&#34;</span><span class=p>,</span> <span class=k>this</span><span class=p>);</span> <span class=c1>// undefined üò≠
</span><span class=c1></span>    <span class=kd>let</span> <span class=p>{</span> <span class=nx>messages</span> <span class=p>}</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>props</span><span class=p>;</span>
    <span class=kd>let</span> <span class=nx>rIndex</span> <span class=o>=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>floor</span><span class=p>(</span><span class=nb>Math</span><span class=p>.</span><span class=nx>random</span><span class=p>()</span> <span class=o>*</span> <span class=nx>messages</span><span class=p>.</span><span class=nx>length</span><span class=p>);</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>messages</span><span class=p>[</span><span class=nx>rIndex</span><span class=p>]);</span>
  <span class=p>}</span>

  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
    <span class=k>return</span> <span class=p>(</span>
      <span class=o>&lt;</span><span class=nx>div</span> <span class=nx>className</span><span class=o>=</span><span class=s2>&#34;WiseSquare&#34;</span> <span class=nx>onMouseEnter</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>dispenseWisdom</span><span class=p>}</span><span class=o>&gt;</span>
        <span class=err>üòÉ</span>
      <span class=o>&lt;</span><span class=err>/div&gt;</span>
    <span class=p>);</span>
  <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><h4 id=fixing-our-binding>Fixing our binding</h4><p>There are three ways to fix this:</p><ul><li>Use <em><strong>bind inline</strong></em></li><li>Use an <em><strong>arrow function</strong></em></li><li>Method <em><strong>bind in the constructor</strong></em></li></ul><h5 id=inline>Inline</h5><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=o>&lt;</span><span class=nx>div</span> <span class=nx>className</span><span class=o>=</span><span class=s2>&#34;WiseSquare&#34;</span> <span class=nx>onMouseEnter</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>dispenseWisdom</span><span class=p>.</span><span class=nx>bind</span><span class=p>(</span><span class=k>this</span><span class=p>)}</span><span class=o>&gt;</span>
  <span class=p>{</span><span class=cm>/* */</span><span class=p>}</span>
<span class=o>&lt;</span><span class=err>/div&gt;</span>
</code></pre></div><p><em>Pros:</em></p><ul><li>Very Explicit</li></ul><p><em>Cons:</em></p><ul><li>What if you need to <em>pass <code>this.dispenseWisdom</code> to multiple components?</em></li><li><em>new function</em> created on <em>every render</em></li></ul><h5 id=arrow-functions>Arrow Functions</h5><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=o>&lt;</span><span class=nx>div</span> <span class=nx>className</span><span class=o>=</span><span class=s2>&#34;WiseSquare&#34;</span> <span class=nx>onMouseEnter</span><span class=o>=</span><span class=p>{()</span> <span class=p>=&gt;</span> <span class=k>this</span><span class=p>.</span><span class=nx>dispenseWisdom</span><span class=p>()}</span><span class=o>&gt;</span>
  <span class=p>{</span><span class=cm>/* */</span><span class=p>}</span>
<span class=o>&lt;</span><span class=err>/div&gt;</span>
</code></pre></div><p><em>Pros:</em></p><ul><li>No mention of <del>bind!</del></li></ul><p><em>Cons:</em></p><ul><li>Intent less clear.</li><li>Again, What if you need to <em>pass <code>this.dispenseWisdom</code> to multiple components?</em></li><li><em>new function</em> created on <em>every render</em></li></ul><h5 id=in-the-constructor>In the constructor</h5><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=kr>class</span> <span class=nx>WiseSquareWithProps</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
  <span class=nx>constructor</span><span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=p>{</span>
    <span class=kr>super</span><span class=p>(</span><span class=nx>props</span><span class=p>);</span>
    <span class=cm>/* do other stuff */</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>dispenseWisdom</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>dispenseWisdom</span><span class=p>.</span><span class=nx>bind</span><span class=p>(</span><span class=k>this</span><span class=p>);</span>
  <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><p><em>Pros:</em></p><ul><li>Only need to <em><strong>bind once!</strong></em></li><li>More performant</li></ul><p><em>Cons:</em></p><ul><li><del>Hot reloading</del> won‚Äôt apply.</li></ul><h3 id=method-binding-with-arguments>Method Binding with Arguments</h3><p>In our previous examples, <code>this.dispenseWisdom</code> didn‚Äôt take any arguments. But what if we need to pass arguments to an event handler?</p><h4 id=example-1>Example:</h4><p><em>ButtonList.js</em></p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=kr>class</span> <span class=nx>ButtonList</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
  <span class=kr>static</span> <span class=nx>defaultProps</span> <span class=o>=</span> <span class=p>{</span>
    <span class=nx>colors</span><span class=o>:</span> <span class=p>[</span><span class=s2>&#34;green&#34;</span><span class=p>,</span> <span class=s2>&#34;red&#34;</span><span class=p>,</span> <span class=s2>&#34;blue&#34;</span><span class=p>,</span> <span class=s2>&#34;peachpuff&#34;</span><span class=p>],</span>
  <span class=p>};</span>

  <span class=nx>handleClick</span><span class=p>(</span><span class=nx>color</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`You clicked on the </span><span class=si>${</span><span class=nx>color</span><span class=si>}</span><span class=sb> button.`</span><span class=p>);</span>
  <span class=p>}</span>

  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
    <span class=k>return</span> <span class=p>(</span>
      <span class=o>&lt;</span><span class=nx>div</span> <span class=nx>className</span><span class=o>=</span><span class=s2>&#34;ButtonList&#34;</span><span class=o>&gt;</span>
        <span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>props</span><span class=p>.</span><span class=nx>colors</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>c</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
          <span class=kr>const</span> <span class=nx>colorObj</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>backgroundColor</span><span class=o>:</span> <span class=nx>c</span> <span class=p>};</span>
          <span class=k>return</span> <span class=p>(</span>
            <span class=cm>/* Focus on this line*/</span>
            <span class=o>&lt;</span><span class=nx>button</span> <span class=nx>style</span><span class=o>=</span><span class=p>{</span><span class=nx>colorObj</span><span class=p>}</span> <span class=nx>onClick</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>handleClick</span><span class=p>.</span><span class=nx>bind</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=nx>c</span><span class=p>)}</span><span class=o>&gt;</span>
              <span class=nx>Click</span> <span class=nx>on</span> <span class=nx>me</span><span class=o>!</span>
            <span class=o>&lt;</span><span class=err>/button&gt;</span>
          <span class=p>);</span>
        <span class=p>})}</span>
      <span class=o>&lt;</span><span class=err>/div&gt;</span>
    <span class=p>);</span>
  <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><p>Inside of a <em>loop</em>, you can <em>bind and pass in additional arguments</em>. Also possible to use an <em>arrow function</em>, <strong>both these approaches suffer from the same performance downsides</strong> we‚Äôve already seen. We can do better, but first we need to talk about‚Ä¶</p><h3 id=passing-functions-to-child-components>Passing functions to child components</h3><ul><li>A very <em>common pattern in React</em></li><li><em>The idea</em>: <strong>children are often not stateful</strong>, but <em>need to tell parents to change state</em></li><li>How we <em><strong>send data ‚Äúback up‚Äù to a parent</strong></em> component</li></ul><h4 id=how-data-flows>How data flows</h4><ul><li>A <strong>parent</strong> component <em>defines</em> a <strong>function</strong></li><li>The <em><em>function</em></em> is <em>passed as</em> a <em><em>prop</em></em> to a <em>child</em> component</li><li>The <em><em>child</em></em> component <em>invokes</em> the <em><em>prop</em></em></li><li>The <strong>parent function</strong> is called, usually <em><em>setting new state</em></em></li><li>The <strong>parent</strong> component is <em><em>re-rendered</em></em> along <strong>with its children</strong></li></ul><h4 id=what-it-looks-like>What it looks like?</h4><p><em>NumberList.js</em> :</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=kr>class</span> <span class=nx>NumberList</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
  <span class=nx>constructor</span><span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=p>{</span>
    <span class=kr>super</span><span class=p>(</span><span class=nx>props</span><span class=p>);</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>state</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>nums</span><span class=o>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>]</span> <span class=p>};</span>
  <span class=p>}</span>

  <span class=nx>remove</span><span class=p>(</span><span class=nx>num</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>setState</span><span class=p>((</span><span class=nx>st</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>({</span>
      <span class=nx>nums</span><span class=o>:</span> <span class=nx>st</span><span class=p>.</span><span class=nx>nums</span><span class=p>.</span><span class=nx>filter</span><span class=p>((</span><span class=nx>n</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>n</span> <span class=o>!==</span> <span class=nx>num</span><span class=p>),</span>
    <span class=p>}));</span>
  <span class=p>}</span>

  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
    <span class=kd>let</span> <span class=nx>nums</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>nums</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>n</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>(</span>
      <span class=o>&lt;</span><span class=nx>NumberItem</span> <span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>n</span><span class=p>}</span> <span class=nx>remove</span><span class=o>=</span><span class=p>{()</span> <span class=p>=&gt;</span> <span class=k>this</span><span class=p>.</span><span class=nx>remove</span><span class=p>(</span><span class=nx>n</span><span class=p>)}</span> <span class=o>/&gt;</span>
    <span class=p>));</span>
    <span class=k>return</span> <span class=o>&lt;</span><span class=nx>ul</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>nums</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/ul&gt;;</span>
  <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><p><em>NumberItem.js</em> :</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=kr>class</span> <span class=nx>NumberItem</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
    <span class=k>return</span> <span class=p>(</span>
      <span class=o>&lt;</span><span class=nx>li</span><span class=o>&gt;</span>
        <span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>props</span><span class=p>.</span><span class=nx>value</span><span class=p>}</span>
        <span class=o>&lt;</span><span class=nx>button</span> <span class=nx>onClick</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>props</span><span class=p>.</span><span class=nx>remove</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>X</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
      <span class=o>&lt;</span><span class=err>/li&gt;</span>
    <span class=p>);</span>
  <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><ul><li>We could also method <em><strong>bind inside of the map</strong></em></li><li>In fact, we can do even better!</li></ul><h4 id=using-a-single-bound-function>Using a single bound function</h4><p><em>BetterNumList.js</em></p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=kr>class</span> <span class=nx>BetterNumList</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
  <span class=nx>constructor</span><span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=p>{</span>
    <span class=kr>super</span><span class=p>(</span><span class=nx>props</span><span class=p>);</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>state</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>nums</span><span class=o>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>]</span> <span class=p>};</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>remove</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>remove</span><span class=p>.</span><span class=nx>bind</span><span class=p>(</span><span class=k>this</span><span class=p>);</span>
  <span class=p>}</span>

  <span class=nx>remove</span><span class=p>(</span><span class=nx>num</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>setState</span><span class=p>((</span><span class=nx>st</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>({</span>
      <span class=nx>nums</span><span class=o>:</span> <span class=nx>st</span><span class=p>.</span><span class=nx>nums</span><span class=p>.</span><span class=nx>filter</span><span class=p>((</span><span class=nx>n</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>n</span> <span class=o>!==</span> <span class=nx>num</span><span class=p>),</span>
    <span class=p>}));</span>
  <span class=p>}</span>

  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
    <span class=kd>let</span> <span class=nx>nums</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>nums</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>n</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>(</span>
      <span class=o>&lt;</span><span class=nx>BetterNumItem</span> <span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>n</span><span class=p>}</span> <span class=nx>remove</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>remove</span><span class=p>}</span> <span class=o>/&gt;</span>
    <span class=p>));</span>
    <span class=k>return</span> <span class=o>&lt;</span><span class=nx>ul</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>nums</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/ul&gt;;</span>
  <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><p><em>BetterNumItem.js</em></p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=kr>class</span> <span class=nx>NumberItem</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
  <span class=nx>constructor</span><span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=p>{</span>
    <span class=kr>super</span><span class=p>(</span><span class=nx>props</span><span class=p>);</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>handleRemove</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>handleRemove</span><span class=p>.</span><span class=nx>bind</span><span class=p>(</span><span class=k>this</span><span class=p>);</span>
  <span class=p>}</span>

  <span class=nx>handleRemove</span><span class=p>()</span> <span class=p>{</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>props</span><span class=p>.</span><span class=nx>remove</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>props</span><span class=p>.</span><span class=nx>value</span><span class=p>);</span>
  <span class=p>}</span>

  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
    <span class=k>return</span> <span class=p>(</span>
      <span class=o>&lt;</span><span class=nx>li</span><span class=o>&gt;</span>
        <span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>props</span><span class=p>.</span><span class=nx>value</span><span class=p>}</span>
        <span class=o>&lt;</span><span class=nx>button</span> <span class=nx>onClick</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>handleRemove</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>X</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
      <span class=o>&lt;</span><span class=err>/li&gt;</span>
    <span class=p>);</span>
  <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><h4 id=where-to-bind>Where to bind?</h4><ul><li>The higher the better - <em><strong>don‚Äôt bind in the child component</strong></em> <em>if not needed</em>.</li><li>If you need a parameter, <em>pass it down to the child as a <strong>prop</strong> .</em>, <em><strong>then bind in parent and child</strong></em></li><li><em><strong>Avoid inline arrow functions / binding</strong></em> if possible</li><li><em><strong>No need to bind in the constructor</strong></em> and make an inline function</li><li>If you get stuck, don‚Äôt worry about performance, just try to get the communication working<ul><li>You can always refactor later!</li></ul></li></ul><h4 id=naming-conventions>Naming Conventions</h4><ul><li>You can call these handlers whatever you want - React doesn‚Äôt care</li><li>For consistency, <em>try to follow the <code>action / handleAction</code> pattern</em>:<ul><li>In the parent, give the function a name corresponding to the behavior (<code>remove</code>, <code>add</code>, <code>open</code>, <code>toggle</code>, etc.)</li><li>In the child, use the name of the action along with ‚Äúhandle‚Äù to name the event handler (<code>handleRemove</code>, <code>handleAdd</code>, <code>handleOpen</code>, <code>handleToggle</code>, etc.)</li></ul></li></ul><h3 id=lists-and-keys>Lists and Keys</h3><p><em>BetterNumList.js</em> :</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=kr>class</span> <span class=nx>BetterNumList</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
    <span class=kd>let</span> <span class=nx>nums</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>nums</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>n</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>(</span>
      <span class=o>&lt;</span><span class=nx>BetterNumItem</span> <span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>n</span><span class=p>}</span> <span class=nx>remove</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>remove</span><span class=p>}</span> <span class=o>/&gt;</span>
    <span class=p>));</span>
    <span class=k>return</span> <span class=o>&lt;</span><span class=nx>ul</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>nums</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/ul&gt;;</span>
  <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><p>When mapping over data and returning components, you get a warning about keys for list items.<em><em>key</em></em> is a <em>special string attr</em> to <em>include when creating lists of elements</em></p><h4 id=adding-keys>Adding keys</h4><p>Let‚Äôs assign a key to our list items inside <em>nums.map()</em>:</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=kr>class</span> <span class=nx>NumberList</span> <span class=kr>extends</span> <span class=nx>Component</span> <span class=p>{</span>
  <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
    <span class=kr>const</span> <span class=nx>nums</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>nums</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>n</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>(</span>
      <span class=o>&lt;</span><span class=nx>NumberItem</span> <span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>n</span><span class=p>}</span> <span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>n</span><span class=p>}</span> <span class=nx>remove</span><span class=o>=</span><span class=p>{</span><span class=k>this</span><span class=p>.</span><span class=nx>remove</span><span class=p>}</span> <span class=o>/&gt;</span>
    <span class=p>));</span>
    <span class=k>return</span> <span class=o>&lt;</span><span class=nx>ul</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>nums</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/ul&gt;;</span>
  <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><h4 id=keys>Keys</h4><ul><li><strong>Keys</strong> help React <em><strong>identify which items are changed/added/removed</strong></em>.</li><li>Keys <em><strong>should be given to repeated elems</strong></em> to provide a stable identity.</li></ul><h4 id=picking-a-key>Picking a key</h4><ul><li><em>Best way</em>: <em><em>use string</em></em> that <strong>uniquely</strong> identifies item <strong>among siblings</strong>.</li><li>Most often you would <em><em>use IDs</em></em> from your <em>data</em> as keys:</li></ul><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=kd>let</span> <span class=nx>todoItems</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>todos</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>todo</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>(</span>
  <span class=o>&lt;</span><span class=nx>li</span> <span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>todo</span><span class=p>.</span><span class=nx>id</span><span class=p>}</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>todo</span><span class=p>.</span><span class=nx>text</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/li&gt;</span>
<span class=p>));</span>
</code></pre></div><h4 id=last-resort>Last resort</h4><p>When you don‚Äôt have stable IDs for rendered items, you may <strong>use the iteration index</strong> as a key as a last resort:</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=c1>// Only do this if items have no stable IDs
</span><span class=c1></span>
<span class=kr>const</span> <span class=nx>todoItems</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>todos</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>todo</span><span class=p>,</span> <span class=nx>index</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>(</span>
  <span class=o>&lt;</span><span class=nx>li</span> <span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>index</span><span class=p>}</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>todo</span><span class=p>.</span><span class=nx>text</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/li&gt;</span>
<span class=p>));</span>
</code></pre></div><ul><li>Don‚Äôt use <del>indexes</del> for keys <em>if item order may change or items can be deleted</em>.</li><li>This can cause <em>performance problems</em> or bugs with component state.</li></ul></div><div style=margin-top:2rem><i class="fas fa-tags" style=font-size:.7em;color:gray></i><a style="border:0;font-size:.8em;padding:0 4px;text-decoration:none" href=/tags/react>&nbsp;react</a>
<a style="border:0;font-size:.8em;padding:0 4px;text-decoration:none" href=/tags/javascript>&nbsp;javascript</a>
<a style="border:0;font-size:.8em;padding:0 4px;text-decoration:none" href=/tags/es6>&nbsp;es6</a></div><div style=margin-top:5rem><a href=https://www.gsavitha.in/notes/04-react-state-patterns/ class="prev-next older">React State Patterns&Rarr;</a></div><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.gsavitha.in\/"},"articleSection":"notes","name":"React Events","headline":"React Events","description":"React Events Review React Events You can attach event handlers to HTML elements in React via special reserved attributes. (You can do this in vanilla JS too, though the syntax is a bit different.)\nEvent Attributes Any event you can listen for in JS, you can listen for in React.\nExamples:\n Mouse events: onClick, onMouseOver, etc Form events: onSubmit, etc Keyboard events: onKeyDown, onKeyUp, onKeyPress Full list  Example: WiseSquare.","inLanguage":"en-US","author":"Savitha","creator":"Savitha","publisher":"Savitha","accountablePerson":"Savitha","copyrightHolder":"Savitha","copyrightYear":"25250","datePublished":"2020-08-25 14:55:24 \u002b0530 \u002b0530","dateModified":"2020-08-25 14:55:24 \u002b0530 \u002b0530","url":"https:\/\/www.gsavitha.in\/notes\/05-react-events\/","wordCount":"1078","keywords":["react","javascript","es6","Blog"]}</script><script type=module>
  import { annotate } from "https://unpkg.com/rough-notation?module";

  function checkParent(elem) {
    const parent = elem.parentElement;
    const strong = document.createElement("strong");
    const em = document.createElement("em");
    const del = document.createElement("del");
    console.log(elem.hasChildNodes(), elem);

    if (
      parent.constructor === strong.constructor ||
      parent.constructor === em.constructor ||
      parent.constructor === del.constructor
    )
      return false;
    if (elem.childElementCount > 0) return false;
    return true;
  }

  function annotateElement(selector, type, color) {
    document.querySelectorAll(selector).forEach((elem) => {
      const shouldAllowAnnotation = checkParent(elem);
      if (shouldAllowAnnotation)
        annotate(elem, { type, color, multiline: true, animate: false }).show();
    });
  }

  function annotateNestedElement(selector, type, color) {
    document.querySelectorAll(selector).forEach((elem) => {
      annotate(elem, {
        type,
        color,
        multiline: true,
        animate: false,
        brackets: ["left", "right", "top", "bottom"],
      }).show();
    });
  }

  try {
    annotateElement("em", "underline", "#2196f3");
    annotateElement("strong", "highlight", "yellow");
    annotateElement("del", "strike-through", "#ff0000");
    annotateNestedElement("em > del", "crossed-off", "#ff0000");
    annotateNestedElement("em > strong", "box", "lawngreen");
    annotateNestedElement("em > em", "circle", "#ff000080");
    annotateNestedElement("blockquote", "bracket", "#da3bf1");
  } catch (exception) {
    console.log(exception.message);
  }
</script><style>.section-content em,.section-content strong,.section-content del{font-style:normal;font-weight:400;text-decoration:none}blockquote{background-color:#fff;padding:.3rem;margin:2rem 0}</style></div><footer style="padding:6rem 1rem 2rem;text-align:center;color:gray"><small style=display:block><code>05-react-events.md</code> was last updated on
<code>25 August, 2020</code>. Generated
from
<a target=_blank href=https://github.com/g-savitha/portfolio/tree/6b81cbecb96f9c357d1d4edba9d7d6018c17da07 style=text-decoration:none><code>6b81cbe</code></a>
because of <code>update categories</code></small>
<small>built with <a href=https://gohugo.io>hugo</a> and
<span style=color:red>‚ù§Ô∏è</span></small></footer><script>(()=>{if(document.queryCommandSupported("copy")){const codeBlocks=[...document.querySelectorAll(".highlight")];codeBlocks.forEach((block)=>{block.querySelector("pre.chroma").style.paddingTop="3rem";block.style.position="relative";const handler=document.createElement("button");handler.textContent="COPY";handler.style.position="absolute";handler.style.top="10px";handler.style.right="10px";handler.style.padding="0.25rem 0.5rem";handler.style.background="#ffffff";handler.style.borderRadius="4px";handler.style.border="1px solid #C9D5DE";handler.style.color="#2d3748";handler.addEventListener("click",()=>{const textarea=document.createElement("textarea");textarea.value=block.querySelector(".chroma > code").textContent;document.body.prepend(textarea);textarea.style.position="absolute";textarea.style.opacity=0;textarea.select();document.execCommand("copy");textarea.remove();handler.textContent="COPIED!";setTimeout(()=>(handler.textContent="COPY"),2000);});const langCard=document.createElement("span");const lang=block.querySelector(".chroma > code").classList.toString().split("language-")[1];langCard.textContent=lang;langCard.style.top="0";langCard.style.left="1rem";langCard.style.color="#ffffff";langCard.style.fontSize="0.7em";langCard.style.position="absolute";langCard.style.background="#3f51b5";langCard.style.padding="0.25rem 0.5rem";langCard.style.textTransform="uppercase";langCard.style.borderRadius="0 0 4px 4px";block.prepend(langCard);block.prepend(handler);});}})();</script></body></html>